<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iwei.common.mapper.AttrTableMapper">

    <resultMap type="com.iwei.common.entity.AttrTable" id="AttrTable">
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="name" property="name" jdbcType="VARCHAR"/>
        <result column="attribute1" property="attribute1" jdbcType="VARCHAR"/>
        <result column="attribute2" property="attribute2" jdbcType="VARCHAR"/>
        <result column="attribute3" property="attribute3" jdbcType="VARCHAR"/>
        <result column="attribute4" property="attribute4" jdbcType="VARCHAR"/>
        <result column="attribute5" property="attribute5" jdbcType="VARCHAR"/>
        <result column="attribute6" property="attribute6" jdbcType="VARCHAR"/>
        <result column="attribute7" property="attribute7" jdbcType="VARCHAR"/>
    </resultMap>

    <sql id="baseColumnList">
        id, name, attribute1, attribute2, attribute3, attribute4, attribute5, attribute6, attribute7
    </sql>

    <select id="queryById" resultMap="AttrTable">
        SELECT <include refid="baseColumnList"/>
        FROM attr_table
        WHERE id = #{id}
    </select>

    <select id="queryAll" resultMap="AttrTable">
        SELECT <include refid="baseColumnList"/>
        FROM attr_table
    </select>

    <insert id="insert" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO attr_table (
            id, name, attribute1, attribute2, attribute3, attribute4, attribute5, attribute6, attribute7
        ) VALUES (
            #{id}, #{name}, #{attribute1}, #{attribute2}, #{attribute3}, #{attribute4}, #{attribute5}, #{attribute6}, #{attribute7}
        )
    </insert>
    
    <insert id="batchInsert">
        INSERT INTO attr_table (
            id, name, attribute1, attribute2, attribute3, attribute4, attribute5, attribute6, attribute7
        ) VALUES
        <foreach collection="list" item="item" separator=",">
        (
            #{item.id}, #{item.name}, #{item.attribute1}, #{item.attribute2}, #{item.attribute3}, 
            #{item.attribute4}, #{item.attribute5}, #{item.attribute6}, #{item.attribute7}
        )
        </foreach>
    </insert>

    <update id="updateById">
        UPDATE attr_table
        <set>
            <if test="name != null and name != ''">
                name = #{name},
            </if>
            <if test="attribute1 != null">
                attribute1 = #{attribute1},
            </if>
            <if test="attribute2 != null">
                attribute2 = #{attribute2},
            </if>
            <if test="attribute3 != null">
                attribute3 = #{attribute3},
            </if>
            <if test="attribute4 != null">
                attribute4 = #{attribute4},
            </if>
            <if test="attribute5 != null">
                attribute5 = #{attribute5},
            </if>
            <if test="attribute6 != null">
                attribute6 = #{attribute6},
            </if>
            <if test="attribute7 != null">
                attribute7 = #{attribute7},
            </if>
        </set>
        WHERE id = #{id}
    </update>

    <delete id="deleteById">
        DELETE FROM attr_table
        WHERE id = #{id}
    </delete>

</mapper>